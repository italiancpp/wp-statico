<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>boost &#8211; Italian C++ Community</title>
	<atom:link href="https://www.italiancpp.org/tag/boost/feed/" rel="self" type="application/rss+xml" />
	<link>https://www.italiancpp.org</link>
	<description></description>
	<lastBuildDate>Mon, 24 Aug 2020 13:03:53 +0000</lastBuildDate>
	<language>it-IT</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.7.18</generator>
<site xmlns="com-wordpress:feed-additions:1">106700034</site>	<item>
		<title>Italian C++ Conference 2017</title>
		<link>https://www.italiancpp.org/event/conference-2017/</link>
		<pubDate>Sat, 17 Jun 2017 06:30:00 +0000</pubDate>
		<dc:creator><![CDATA[marco]]></dc:creator>
				<category><![CDATA[boost]]></category>
		<category><![CDATA[Functional C++]]></category>
		<category><![CDATA[Networking]]></category>
		<category><![CDATA[NodeJS]]></category>
		<category><![CDATA[Qt]]></category>

		<guid isPermaLink="false">http://www.italiancpp.org/?post_type=tribe_events&#038;p=7276</guid>
		<description><![CDATA[L'Italian C++ Community ha organizzato la seconda edizione della conferenza italiana completamente dedicata al C++. 10 talks divisi in 2 track (di cui una completamente in Inglese), 5 speakers internazionali, 7 sponsors. Hanno partecipato alla conferenza circa 160 persone.]]></description>
				<content:encoded><![CDATA[<h4 style="text-align: center;"><img data-attachment-id="7774" data-permalink="https://www.italiancpp.org/event/conference-2017/itcppcon17/" data-orig-file="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/itcppcon17.jpg?fit=1207%2C502&amp;ssl=1" data-orig-size="1207,502" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="itcppcon17" data-image-description="" data-medium-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/itcppcon17.jpg?fit=300%2C125&amp;ssl=1" data-large-file="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/itcppcon17.jpg?fit=610%2C254&amp;ssl=1" class="aligncenter wp-image-7774 size-full" src="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/itcppcon17.jpg?resize=610%2C254" alt="" srcset="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/itcppcon17.jpg?w=1207&amp;ssl=1 1207w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/itcppcon17.jpg?resize=300%2C125&amp;ssl=1 300w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/itcppcon17.jpg?resize=768%2C319&amp;ssl=1 768w, https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/itcppcon17.jpg?resize=1024%2C426&amp;ssl=1 1024w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/itcppcon17.jpg?resize=600%2C250&amp;ssl=1 600w" sizes="(max-width: 610px) 100vw, 610px" data-recalc-dims="1" /></h4>
<h5 style="text-align: center;"><span style="color: #2945a4;">La conferenza C++, made in Italy</span></h5>
<h6 style="text-align: center;"><span style="color: #2945a4;">Saturday June 17, Milan</span></h6>
<p><span style="color: #ffffff;"> </span></p>
<h5 style="text-align: center;">160+ partecipanti.</h5>
<p style="text-align: center;"><span style="color: #ffffff;"> </span></p>
<h4 style="text-align: center;"><a href="http://www.italiancpp.org/2017/07/04/itcppcon17/">Wrap-Up Post</a></h4>
<p><span style="color: #ffffff;"> </span></p>
<h4 style="text-align: center;"><a href="https://www.youtube.com/playlist?list=PLsCm1Hs016LWoGAOd9wKvdb1fEqj2olBz"><img data-attachment-id="5060" data-permalink="https://www.italiancpp.org/dettagli-meetup-firenze-2015/video-icon/" data-orig-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2015/05/video-icon.png?fit=456%2C257&amp;ssl=1" data-orig-size="456,257" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="video-icon" data-image-description="" data-medium-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2015/05/video-icon.png?fit=300%2C169&amp;ssl=1" data-large-file="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2015/05/video-icon.png?fit=456%2C257&amp;ssl=1" class="aligncenter wp-image-5060" src="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2015/05/video-icon.png?resize=289%2C163" alt="" srcset="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2015/05/video-icon.png?w=456&amp;ssl=1 456w, https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2015/05/video-icon.png?resize=300%2C169&amp;ssl=1 300w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2015/05/video-icon.png?resize=250%2C141&amp;ssl=1 250w" sizes="(max-width: 289px) 100vw, 289px" data-recalc-dims="1" /></a></h4>
<h4 style="text-align: center;"><a href="https://www.youtube.com/playlist?list=PLsCm1Hs016LWoGAOd9wKvdb1fEqj2olBz">Videos</a></h4>
<p><center><a href="https://www.facebook.com/pg/italiancpp/photos/?tab=album&amp;album_id=1819002205081154"><img data-attachment-id="6973" data-permalink="https://www.italiancpp.org/?attachment_id=6973" data-orig-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2013/06/photo.png?fit=512%2C512&amp;ssl=1" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="photo" data-image-description="" data-medium-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2013/06/photo.png?fit=300%2C300&amp;ssl=1" data-large-file="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2013/06/photo.png?fit=512%2C512&amp;ssl=1" class="aligncenter wp-image-6973" src="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2013/06/photo.png?resize=194%2C194" alt="" srcset="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2013/06/photo.png?w=512&amp;ssl=1 512w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2013/06/photo.png?resize=150%2C150&amp;ssl=1 150w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2013/06/photo.png?resize=300%2C300&amp;ssl=1 300w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2013/06/photo.png?resize=250%2C250&amp;ssl=1 250w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2013/06/photo.png?resize=50%2C50&amp;ssl=1 50w" sizes="(max-width: 194px) 100vw, 194px" data-recalc-dims="1" /></a></center></p>
<h4 style="text-align: center;"><a href="https://www.facebook.com/pg/italiancpp/photos/?tab=album&amp;album_id=1819002205081154">Pictures</a></h4>
<h4 style="text-align: center;"><span style="color: #ffffff;"> </span></h4>
<h4 style="text-align: center;"><a href="http://www.italiancpp.org/itcppcon17/" target="_blank" rel="noopener noreferrer">International reader? Read this page in English</a></h4>
<p>&nbsp;</p>
<p><span style="color: #ffffff;"> </span></p>
<h3 style="text-align: center;"><span style="color: #ffffff;"> </span></h3>
<h5 style="text-align: center;"><strong>Una track completamente in inglese</strong><br />
grazie ai nostri 5 ospiti internazionali eccezionali:</h5>
<div id="attachment_8002" style="width: 193px" class="wp-caption aligncenter"><img data-attachment-id="8002" data-permalink="https://www.italiancpp.org/speakers/michael-wong/" data-orig-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/michael-wong.png?fit=640%2C480&amp;ssl=1" data-orig-size="640,480" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="michael-wong" data-image-description="" data-medium-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/michael-wong.png?fit=300%2C225&amp;ssl=1" data-large-file="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/michael-wong.png?fit=610%2C458&amp;ssl=1" class="wp-image-8002" src="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/michael-wong.png?resize=183%2C137" alt="" srcset="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/michael-wong.png?w=640&amp;ssl=1 640w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/michael-wong.png?resize=300%2C225&amp;ssl=1 300w, https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/michael-wong.png?resize=600%2C450&amp;ssl=1 600w" sizes="(max-width: 183px) 100vw, 183px" data-recalc-dims="1" /><p class="wp-caption-text">Keynote speaker: Michael Wong</p></div>

<a href='https://www.italiancpp.org/speakers/phil-nash/'><img width="150" height="150" src="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/phil-nash.png?resize=150%2C150&amp;ssl=1" class="attachment-thumbnail size-thumbnail" alt="" srcset="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/phil-nash.png?w=512&amp;ssl=1 512w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/phil-nash.png?resize=150%2C150&amp;ssl=1 150w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/phil-nash.png?resize=300%2C300&amp;ssl=1 300w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/phil-nash.png?resize=50%2C50&amp;ssl=1 50w" sizes="(max-width: 150px) 100vw, 150px" data-attachment-id="7817" data-permalink="https://www.italiancpp.org/speakers/phil-nash/" data-orig-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/phil-nash.png?fit=512%2C512&amp;ssl=1" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="phil-nash" data-image-description="" data-medium-file="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/phil-nash.png?fit=300%2C300&amp;ssl=1" data-large-file="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/phil-nash.png?fit=512%2C512&amp;ssl=1" /></a>
<a href='https://www.italiancpp.org/speakers/jens-weller/'><img width="150" height="150" src="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/jens-weller.jpg?resize=150%2C150&amp;ssl=1" class="attachment-thumbnail size-thumbnail" alt="" srcset="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/jens-weller.jpg?w=360&amp;ssl=1 360w, https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/jens-weller.jpg?resize=150%2C150&amp;ssl=1 150w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/jens-weller.jpg?resize=300%2C300&amp;ssl=1 300w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/jens-weller.jpg?resize=50%2C50&amp;ssl=1 50w" sizes="(max-width: 150px) 100vw, 150px" data-attachment-id="7785" data-permalink="https://www.italiancpp.org/speakers/jens-weller/" data-orig-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/jens-weller.jpg?fit=360%2C360&amp;ssl=1" data-orig-size="360,360" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="jens-weller" data-image-description="" data-medium-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/jens-weller.jpg?fit=300%2C300&amp;ssl=1" data-large-file="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/jens-weller.jpg?fit=360%2C360&amp;ssl=1" /></a>
<a href='https://www.italiancpp.org/speakers/bartosz-2/'><img width="150" height="150" src="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/bartosz.jpg?resize=150%2C150&amp;ssl=1" class="attachment-thumbnail size-thumbnail" alt="" srcset="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/bartosz.jpg?resize=150%2C150&amp;ssl=1 150w, https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/bartosz.jpg?resize=50%2C50&amp;ssl=1 50w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/bartosz.jpg?zoom=2&amp;resize=150%2C150&amp;ssl=1 300w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/bartosz.jpg?zoom=3&amp;resize=150%2C150&amp;ssl=1 450w" sizes="(max-width: 150px) 100vw, 150px" data-attachment-id="7784" data-permalink="https://www.italiancpp.org/speakers/bartosz-2/" data-orig-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/bartosz.jpg?fit=1001%2C711&amp;ssl=1" data-orig-size="1001,711" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="bartosz" data-image-description="" data-medium-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/bartosz.jpg?fit=300%2C213&amp;ssl=1" data-large-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/bartosz.jpg?fit=610%2C433&amp;ssl=1" /></a>
<a href='https://www.italiancpp.org/speakers/dietmar/'><img width="150" height="150" src="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/dietmar.jpg?resize=150%2C150&amp;ssl=1" class="attachment-thumbnail size-thumbnail" alt="" srcset="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/dietmar.jpg?resize=150%2C150&amp;ssl=1 150w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/dietmar.jpg?resize=50%2C50&amp;ssl=1 50w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/dietmar.jpg?zoom=2&amp;resize=150%2C150&amp;ssl=1 300w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/dietmar.jpg?zoom=3&amp;resize=150%2C150&amp;ssl=1 450w" sizes="(max-width: 150px) 100vw, 150px" data-attachment-id="7789" data-permalink="https://www.italiancpp.org/speakers/dietmar/" data-orig-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/dietmar.jpg?fit=483%2C600&amp;ssl=1" data-orig-size="483,600" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="dietmar" data-image-description="" data-medium-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/dietmar.jpg?fit=242%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/04/dietmar.jpg?fit=483%2C600&amp;ssl=1" /></a>

<p style="text-align: center;"><span style="color: #ffffff;"> </span></p>
<h4 style="text-align: center;"><span style="color: #2945a4;"><i class="fa fa-table fa- " ></i><br />
Agenda (video e slides seguendo i link)<br />
</span></h4>
<h5 style="text-align: left;"><div class="table-responsive"><table  style="width:100%; "  class="easy-table easy-table-default " border="0">
<thead>
<tr><th  style="width:90px;text-align:center" >time</th>
<th  style="width:10px;text-align:center" >duration</th>
<th  style="width:130px;text-align:center" >room 9</th>
<th  style="width:130px;text-align:center" >room 7</th>
</tr>
</thead>
<tbody>
<tr><td  style="text-align:center" >8.15 &#8211; 9.00</td>
<td  style="text-align:center" >45'</td>
<td colspan="2" style="text-align:center;"><em>Check-in</em></td>
</tr>

<tr><td  style="text-align:center" >9.00 &#8211; 9.15</td>
<td  style="text-align:center" >15'</td>
<td  style="text-align:center" ><em>Welcome Message</em><span style="color: #333333;"><br /><a href="http://italiancpp.org/speakers#marco-arena" target="_blank" rel="noopener noreferrer">Marco Arena</a></span></td>
<td  style="text-align:center" >-</td>
</tr>

<tr><td  style="text-align:center" >9.15 &#8211; 10.30</td>
<td  style="text-align:center" >75'</td>
<td  style="text-align:center" ><a href="http://www.italiancpp.org/sessioni-conference-2017/#1" target="_blank" rel="noopener noreferrer">Keynote: C++ executors to enable heterogeneous computing in tomorrow's C++ today</a> (<strong>EN</strong>)<br /><a href="http://italiancpp.org/speakers#mwong" target="_blank" rel="noopener noreferrer">Michael Wong</a></td>
<td  style="text-align:center" >-</td>
</tr>

<tr><td  style="text-align:center" >10.30 &#8211; 11.00</td>
<td  style="text-align:center" >30'</td>
<td colspan="2" style="text-align:center;"><strong>Coffee</strong> <strong>Break</strong></td>
</tr>

<tr><td  style="text-align:center" >11.00 &#8211; 12.00</td>
<td  style="text-align:center" >60'</td>
<td  style="text-align:center" ><a href="http://www.italiancpp.org/sessioni-conference-2017/#10" target="_blank" rel="noopener noreferrer">Quicker Sorting</a> (<strong>EN</strong>)<br /><a href="http://italiancpp.org/speakers#dietmar" target="_blank" rel="noopener noreferrer">Dietmar Kühl</td>
<td  style="text-align:center" ></a><a href="http://www.italiancpp.org/sessioni-conference-2017/#3" target="_blank" rel="noopener noreferrer">An overly simple C++ idiomatic pattern language for message-based product families</a> (<strong>ITA</strong>)<a href="http://italiancpp.org/speakers#dietmar" target="_blank" rel="noopener noreferrer"><br /></a><a href="http://italiancpp.org/speakers#carlo-pescio" target="_blank" rel="noopener noreferrer">Carlo Pescio</a><a href="http://italiancpp.org/speakers#dietmar" target="_blank" rel="noopener noreferrer"></td>
</tr>

<tr><td  style="text-align:center" ></a>12.05 &#8211; 12.50</td>
<td  style="text-align:center" >45'</td>
<td  style="text-align:center" ><a href="http://italiancpp.org/sessioni-conference-2017/#11" target="_blank" rel="noopener noreferrer">Diversity and Inclusion in Microsoft</a><em> </em>(<strong>ITA</strong>)<em><br /></em><a href="http://italiancpp.org/speakers#ppresutto">Paola Presutto</a></td>
<td  style="text-align:center" >-</td>
</tr>

<tr><td  style="text-align:center" >12.50 &#8211; 14.00</td>
<td  style="text-align:center" >70'</td>
<td colspan="2" style="text-align:center;"><strong>Lunch</strong></td>
</tr>

<tr><td  style="text-align:center" >13.20 &#8211; 13.40</td>
<td  style="text-align:center" >20'</td>
<td  style="text-align:center" ><em>Bonus talk by <strong>JetBrains</strong></em></td>
<td  style="text-align:center" >-</td>
</tr>

<tr><td  style="text-align:center" >14.00 &#8211; 15.00</td>
<td  style="text-align:center" >60'</td>
<td  style="text-align:center" ><a href="http://www.italiancpp.org/sessioni-conference-2017/#8" target="_blank" rel="noopener noreferrer">Boost vs Qt: What Could They Learn From Each Other?</a> (<strong>EN</strong>)<br /><a href="http://italiancpp.org/speakers#jens" target="_blank" rel="noopener noreferrer">Jens Weller</a></td>
<td  style="text-align:center" ><a href="http://www.italiancpp.org/sessioni-conference-2017/#2" target="_blank" rel="noopener noreferrer">Lambda out: a simple pattern for generic output</a> (<strong>ITA</strong>)<br /><a href="http://italiancpp.org/speakers#dadigen" target="_blank" rel="noopener noreferrer">Davide Di Gennaro</a></td>
</tr>

<tr><td  style="text-align:center" >15.10 &#8211; 16.10</td>
<td  style="text-align:center" >60'</td>
<td  style="text-align:center" ><a href="http://www.italiancpp.org/sessioni-conference-2017/#4" target="_blank" rel="noopener noreferrer">Monads for C++</a> (<strong>EN</strong>)<br /><a href="http://italiancpp.org/speakers#bartosz" target="_blank" rel="noopener noreferrer">Bartosz Milewski</a></td>
<td  style="text-align:center" ><a href="http://www.italiancpp.org/sessioni-conference-2017/#5" target="_blank" rel="noopener noreferrer">Costruire un bridge C++ tra NodeJS e C#</a> (<strong>ITA</strong>)<br /><a href="http://italiancpp.org/speakers#raf" target="_blank" rel="noopener noreferrer">Raffaele Rialdi</a></td>
</tr>

<tr><td  style="text-align:center" >16.10 &#8211; 16.40</td>
<td  style="text-align:center" >30'</td>
<td colspan="2" style="text-align:center;"><strong>Coffee</strong> <strong>Break</strong></td>
</tr>

<tr><td  style="text-align:center" >16.40 &#8211; 17.40</td>
<td  style="text-align:center" >60'</td>
<td  style="text-align:center" ><a href="http://www.italiancpp.org/sessioni-conference-2017/#9" target="_blank" rel="noopener noreferrer">Functional C++ for Fun and Profit</a> (<strong>EN</strong>)<br /><a href="http://italiancpp.org/speakers#phil-nash" target="_blank" rel="noopener noreferrer">Phil Nash</a></td>
<td  style="text-align:center" ><a href="http://www.italiancpp.org/sessioni-conference-2017/#6" target="_blank" rel="noopener noreferrer">Una libreria di rete asincrona scritta in C++ ispirata a Node.js</a> (<strong>ITA</strong>)<br /><a href="http://italiancpp.org/speakers#ste-cristiano" target="_blank" rel="noopener noreferrer">Stefano Cristiano</a></td>
</tr>

<tr><td  style="text-align:center" >17.40 &#8211; 18.00</td>
<td  style="text-align:center" >20'</td>
<td  style="text-align:center" ><em>Closing Message</em><span style="color: #666699;"><br /><a href="http://italiancpp.org/speakers#marco-arena" target="_blank" rel="noopener noreferrer">Marco Arena</a></td>
<td  style="text-align:center" >-</span></td>
</tr>
</tbody></table></div></h5>
<p style="text-align: center;"><span style="color: #ffffff;"> </span></p>
<p style="text-align: center;">L&#8217;Italian C++ Conference 2017 segue l&#8217;<a href="https://github.com/italiancpp/code-of-conduct/blob/master/README.md" target="_blank" rel="noopener noreferrer">Italian C++ Code of Conduct</a>.<br />
Quindi, per favore sii professionale e rilassato, in questo modo tutti potranno divertirsi all&#8217;Italian C++ Conference 2017.</p>
<h4 style="text-align: center;"><span style="color: #ffffff;"> </span></h4>
<h4 style="text-align: center;"><span style="color: #ffffff;"> </span></h4>
<h4 style="text-align: center;"><span style="color: #2945a4;">Sponsors</span></h4>
<p style="text-align: center;"><a href="https://www.bloomberg.com"><img data-attachment-id="7807" data-permalink="https://www.italiancpp.org/event/conference-2017/bloomberg-logo/" data-orig-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/02/bloomberg-logo.png?fit=1523%2C600&amp;ssl=1" data-orig-size="1523,600" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="bloomberg-logo" data-image-description="" data-medium-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/02/bloomberg-logo.png?fit=300%2C118&amp;ssl=1" data-large-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/02/bloomberg-logo.png?fit=610%2C240&amp;ssl=1" class="alignnone wp-image-7807" src="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2017/02/bloomberg-logo-1024x403.png?resize=397%2C156" alt="" srcset="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2017/02/bloomberg-logo.png?resize=1024%2C403&amp;ssl=1 1024w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2017/02/bloomberg-logo.png?resize=300%2C118&amp;ssl=1 300w, https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2017/02/bloomberg-logo.png?resize=768%2C303&amp;ssl=1 768w, https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2017/02/bloomberg-logo.png?resize=600%2C236&amp;ssl=1 600w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/02/bloomberg-logo.png?w=1523&amp;ssl=1 1523w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/02/bloomberg-logo.png?w=1220&amp;ssl=1 1220w" sizes="(max-width: 397px) 100vw, 397px" data-recalc-dims="1" /></a></p>
<p style="text-align: center;">         <a href="http://jetbrains.com"><img data-attachment-id="6968" data-permalink="https://www.italiancpp.org/event/cppday16/logo-jetbrains/" data-orig-file="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2016/07/logo-jetbrains.png?fit=817%2C885&amp;ssl=1" data-orig-size="817,885" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="JetBrains" data-image-description="" data-medium-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/07/logo-jetbrains.png?fit=277%2C300&amp;ssl=1" data-large-file="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2016/07/logo-jetbrains.png?fit=610%2C661&amp;ssl=1" class="wp-image-6968 alignnone" src="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/07/logo-jetbrains.png?resize=162%2C175" srcset="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2016/07/logo-jetbrains.png?w=817&amp;ssl=1 817w, https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2016/07/logo-jetbrains.png?resize=277%2C300&amp;ssl=1 277w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/07/logo-jetbrains.png?resize=768%2C832&amp;ssl=1 768w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/07/logo-jetbrains.png?resize=600%2C650&amp;ssl=1 600w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/07/logo-jetbrains.png?resize=250%2C271&amp;ssl=1 250w" sizes="(max-width: 162px) 100vw, 162px" data-recalc-dims="1" /></a></p>
<p style="text-align: center;"><a href="https://www.kdab.com/"><img data-attachment-id="7883" data-permalink="https://www.italiancpp.org/?attachment_id=7883" data-orig-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/08/kdab-logo-e1490803782914.png?fit=329%2C287&amp;ssl=1" data-orig-size="329,287" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="kdab-logo" data-image-description="" data-medium-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/08/kdab-logo-e1490803782914.png?fit=300%2C262&amp;ssl=1" data-large-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/08/kdab-logo-e1490803782914.png?fit=329%2C287&amp;ssl=1" class="aligncenter wp-image-7883" src="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2016/08/kdab-logo-e1490803782914.png?resize=245%2C214" alt="" srcset="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/08/kdab-logo-e1490803782914.png?w=329&amp;ssl=1 329w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/08/kdab-logo-e1490803782914.png?resize=300%2C262&amp;ssl=1 300w" sizes="(max-width: 245px) 100vw, 245px" data-recalc-dims="1" /></a></p>
<p style="text-align: center;"><a href="https://recognitionrobotics.com"><img data-attachment-id="7915" data-permalink="https://www.italiancpp.org/itcppcon17/rec-robo-logo/" data-orig-file="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/rec-robo-logo.jpg?fit=2347%2C619&amp;ssl=1" data-orig-size="2347,619" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="rec-robo-logo" data-image-description="" data-medium-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/rec-robo-logo.jpg?fit=300%2C79&amp;ssl=1" data-large-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/rec-robo-logo.jpg?fit=610%2C161&amp;ssl=1" class="aligncenter wp-image-7915" src="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/rec-robo-logo-1024x270.jpg?resize=440%2C116" alt="" srcset="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/rec-robo-logo.jpg?resize=1024%2C270&amp;ssl=1 1024w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/rec-robo-logo.jpg?resize=300%2C79&amp;ssl=1 300w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/rec-robo-logo.jpg?resize=768%2C203&amp;ssl=1 768w, https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/rec-robo-logo.jpg?resize=600%2C158&amp;ssl=1 600w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/rec-robo-logo.jpg?w=1220&amp;ssl=1 1220w, https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/rec-robo-logo.jpg?w=1830&amp;ssl=1 1830w" sizes="(max-width: 440px) 100vw, 440px" data-recalc-dims="1" /></a></p>
<p style="text-align: center;"><a href="http://abacogroup.eu"><img data-attachment-id="8054" data-permalink="https://www.italiancpp.org/itcppcon17/logo_abacogroup/" data-orig-file="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/logo_abacogroup.png?fit=333%2C79&amp;ssl=1" data-orig-size="333,79" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="logo_abacogroup" data-image-description="" data-medium-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/logo_abacogroup.png?fit=300%2C71&amp;ssl=1" data-large-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/logo_abacogroup.png?fit=333%2C79&amp;ssl=1" class="aligncenter wp-image-8054 size-full" src="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/logo_abacogroup.png?resize=333%2C79" alt="" srcset="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/logo_abacogroup.png?w=333&amp;ssl=1 333w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/logo_abacogroup.png?resize=300%2C71&amp;ssl=1 300w" sizes="(max-width: 333px) 100vw, 333px" data-recalc-dims="1" /></a></p>
<p style="text-align: center;"><a href="https://www.think-cell.com/"><img data-attachment-id="8066" data-permalink="https://www.italiancpp.org/itcppcon17/think-cell_hidpi_transparent/" data-orig-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/think-cell_hidpi_transparent.png?fit=353%2C84&amp;ssl=1" data-orig-size="353,84" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="think-cell_hidpi_transparent" data-image-description="" data-medium-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/think-cell_hidpi_transparent.png?fit=300%2C71&amp;ssl=1" data-large-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/think-cell_hidpi_transparent.png?fit=353%2C84&amp;ssl=1" class="aligncenter wp-image-8066 size-full" src="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/think-cell_hidpi_transparent.png?resize=353%2C84" alt="" srcset="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/think-cell_hidpi_transparent.png?w=353&amp;ssl=1 353w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/think-cell_hidpi_transparent.png?resize=300%2C71&amp;ssl=1 300w" sizes="(max-width: 353px) 100vw, 353px" data-recalc-dims="1" /></a></p>
<p style="text-align: center;"><a href="https://conan.io"><img data-attachment-id="8096" data-permalink="https://www.italiancpp.org/itcppcon17/conan-logo/" data-orig-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/Conan-logo.png?fit=610%2C116&amp;ssl=1" data-orig-size="610,116" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Conan-logo" data-image-description="" data-medium-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/Conan-logo.png?fit=300%2C57&amp;ssl=1" data-large-file="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/Conan-logo.png?fit=610%2C116&amp;ssl=1" class="aligncenter wp-image-8096" src="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/Conan-logo.png?resize=494%2C94" alt="" srcset="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/Conan-logo.png?w=610&amp;ssl=1 610w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/Conan-logo.png?resize=300%2C57&amp;ssl=1 300w, https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2017/03/Conan-logo.png?resize=600%2C114&amp;ssl=1 600w" sizes="(max-width: 494px) 100vw, 494px" data-recalc-dims="1" /></a></p>
<h4 style="text-align: center;"><span style="color: #ffffff;"> </span></h4>
<h4 style="text-align: center;"><span style="color: #2945a4;">Partners</span></h4>
<h4 style="text-align: center;"><span style="color: #2945a4;"><a href="https://account.gitkraken.com/register"><img data-attachment-id="7808" data-permalink="https://www.italiancpp.org/event/conference-2017/gitkraken-logo/" data-orig-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/02/gitkraken-logo.png?fit=600%2C200&amp;ssl=1" data-orig-size="600,200" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="gitkraken-logo" data-image-description="" data-medium-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2017/02/gitkraken-logo.png?fit=300%2C100&amp;ssl=1" data-large-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/02/gitkraken-logo.png?fit=600%2C200&amp;ssl=1" class="aligncenter wp-image-7808" src="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/02/gitkraken-logo.png?resize=336%2C112" alt="" srcset="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2017/02/gitkraken-logo.png?w=600&amp;ssl=1 600w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2017/02/gitkraken-logo.png?resize=300%2C100&amp;ssl=1 300w" sizes="(max-width: 336px) 100vw, 336px" data-recalc-dims="1" /></a></span></h4>
<h4 style="text-align: center;"><a href="http://www.oreilly.com"><img data-attachment-id="4892" data-permalink="https://www.italiancpp.org/event/meetup-firenze-2015/oreilly-logo/" data-orig-file="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2015/03/oreilly-logo.gif?fit=463%2C98&amp;ssl=1" data-orig-size="463,98" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="oreilly-logo" data-image-description="" data-medium-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2015/03/oreilly-logo.gif?fit=300%2C63&amp;ssl=1" data-large-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2015/03/oreilly-logo.gif?fit=463%2C98&amp;ssl=1" class="aligncenter wp-image-4892" src="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2015/03/oreilly-logo.gif?resize=298%2C67" alt="oreilly-logo" data-recalc-dims="1" /></a></h4>
]]></content:encoded>
		<post-id xmlns="com-wordpress:feed-additions:1">7276</post-id>	</item>
		<item>
		<title>Coroutines Internals</title>
		<link>https://www.italiancpp.org/2016/11/02/coroutines-internals/</link>
		<pubDate>Wed, 02 Nov 2016 09:15:30 +0000</pubDate>
		<dc:creator><![CDATA[Marco Alesiani]]></dc:creator>
				<category><![CDATA[Hands-on]]></category>
		<category><![CDATA[boost]]></category>
		<category><![CDATA[C++11]]></category>
		<category><![CDATA[C++14]]></category>
		<category><![CDATA[C++17]]></category>
		<category><![CDATA[cooperative]]></category>
		<category><![CDATA[CoRoutines]]></category>
		<category><![CDATA[fcontext]]></category>
		<category><![CDATA[multitasking]]></category>

		<guid isPermaLink="false">http://www.italiancpp.org/?p=6862</guid>
		<description><![CDATA[What are coroutines and why should I care? In The Art of Computer Programming Donald Knuth introduced coroutines as an alternative to the usual function caller/callee idiom where two pieces of code were treated as cooperating equals. Coroutines can be thought of as language-level constructs that generalize subroutines by providing multiple exit/entry points. A normal [&#8230;]]]></description>
				<content:encoded><![CDATA[<p><a href="https://github.com/italiancpp/code" target="_blank"><img class="alignnone size-full wp-image-6930" src="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/github_available-1.png?resize=200%2C50" alt="Article's code is available on Github" data-recalc-dims="1" /></a></p>
<h2>What are coroutines and why should I care?</h2>
<p style="text-align: justify;">In <em>The Art of Computer Programming</em> Donald Knuth introduced coroutines as an alternative to the usual function caller/callee idiom where two pieces of code were treated as cooperating equals.<br />
Coroutines can be thought of as language-level constructs that generalize subroutines by providing multiple exit/entry points. A normal subroutine usually has a starting point and one or more exit (return) points. A coroutine provides the ability to enter/exit its control flow at different spots therefore allowing for greater code expressiveness, preservation of automatic states across function calls and <a href="https://en.wikipedia.org/wiki/Cooperative_multitasking">nonpreemptive multitasking</a>.</p>
<p style="text-align: justify;">It has to be noted that different programming languages can provide various levels of support for coroutines, e.g.</p>
<ul style="text-align: justify;">
<li>Languages supporting the <em>yield</em> keyword</li>
<li>Languages providing full support for <em>async</em>, <em>await</em>, <em>yield</em></li>
</ul>
<p style="text-align: justify;">In this article we&#8217;ll focus on the former.</p>
<p style="text-align: justify;">Thoughtful use of coroutines can lead to cleaner and more maintainable code in a variety of situations. As a motivating example let&#8217;s take for instance the following pseudocode</p>
<pre>function start_accepting() {

  socket.async_accept(accept_handler);

  start_accepting();

}

function accept_handler() {

  socket.async_read(read_handler);
 
}

function read_handler(data) {

  request = parse_data(data);

  switch(request) {

    case SEND_DATA: {

      data_to_send = prepare_data_for(request);

      socket.async_write(data_to_send, write_handler);

    } break;

  };

}

function write_handler() {

  ... // continue execution

}</pre>
<p style="text-align: justify;">Asynchronous programming is often the preferred way of accomplishing potentially blocking operations without stalling the thread on blocking calls. In the pseudocode above we&#8217;re assuming (and omitting for clarity&#8217;s sake) that all operations are queued and handled by an event loop manager (a common and powerful idiom in asynchronous applications programming, cfr. <a href="http://www.boost.org/doc/libs/">boost::asio</a>).</p>
<p style="text-align: justify;">Coroutines allow modeling the same behavior with more readable code</p>
<pre>coroutine acceptor() {

  while(true) {

    socket.async_accept_connection(yield); // To event manager

    start_coroutine(serve_request);

  }

}

coroutine serve_request() {

  socket.async_read(data, yield);

  request = parse_data(data);

  switch(request) {

    case SEND_DATA: {

      data_to_send = prepare_data_for(request);

      socket.async_write(data_to_send, yield);

      ... // Continue execution

    } break;

  };

}</pre>
<p>&nbsp;</p>
<p style="text-align: justify;">The code in <em>serve_request()</em> uses a sequential-looking paradigm</p>
<blockquote>
<p style="text-align: justify;">Coroutines let you create a structure that mirrors the actual program logic. Asynchronous operations don’t split functions, because there are no handlers to define what should happen when an asynchronous operation completes. Instead of having handlers call each other, the program can use a sequential structure.</p>
<p>(<a href="http://theboostcpplibraries.com/boost.asio-coroutines">boost.asio-coroutines</a>)</p>
<p>&nbsp;</p></blockquote>
<h2>Standard support</h2>
<p style="text-align: justify;">At the time of writing this article coroutines didn&#8217;t make it for the next standard version (C++17) although recent MSVC versions already ship with an <em>/await</em> option to test experimental support for coroutines.</p>
<h2>Coroutines internals</h2>
<p style="text-align: justify;">It is important to understand the role of coroutines in providing a collaborative non-preemptive multitasking: spawning a coroutine <strong>does not spawn a new thread</strong> of execution but coroutines <em>waive</em> execution by <a href="https://en.wikipedia.org/wiki/Yield_(multithreading)" target="_blank">yielding</a> to callers (<em>asymmetric coroutines</em>) or to other coroutines (<em>symmetric coroutines</em>) explicitly.</p>
<p style="text-align: justify;">Since coroutines are concepts that have been known for a relatively long time many different techniques (both at language level and system level) have been devised (an interesting suggested reading: <a href="http://www.chiark.greenend.org.uk/~sgtatham/coroutines.html" target="_blank">Duff&#8217;s device based coroutines</a>).</p>
<p style="text-align: justify;">Implementing basic support for asymmetric stackful coroutines can be a rewarding experience in terms of understanding the relationship between coroutines and the way these program flow constructs interact with callers and the underlying memory. Most of the code that will be presented is a pruned-down version of the coroutine implementation by Oliver Kowalke (cfr. <a href="http://www.boost.org/doc/libs/" target="_blank">boost::coroutine2</a>) available with the boost libraries.</p>
<h3>Abstracting away the execution context</h3>
<p style="text-align: justify;">In order to implement a coroutine context switch (in its simplest form from the callee to the caller) we need a mechanism to abstract the execution state of our routines and to save/restore stack, registers, CPU flags, etc.</p>
<p style="text-align: justify;">A context switch between threads on x86_64 can be quite costly in terms of performances since it also involves a trip to kernel syscalls. Coroutines context switches in the same thread are far more lightweight and require no kernel interaction. The foundation bricks for userland context switches are contained in the <a href="https://github.com/boostorg/context" target="_blank">boost/context</a> library. These functionalities provide a solid abstraction that can provide ready-to-use stacks (either basic <em>malloc&#8217;d</em> stack buffers or even <a href="https://gcc.gnu.org/wiki/SplitStacks" target="_blank">split stacks</a> on supported architectures) to store our context data or complement system-level constructs (e.g. <em>ucontext</em> on Unix systems, <em>Fibers</em> on Windows). It has to be noted that <em>boost::context</em> used to support Windows fibers due to undocumented TEB-swapping related issues; after fixes were deployed support was dropped since the introduction of execution context v2.</p>
<p style="text-align: justify;">In this article we&#8217;ll go for a <em>fcontext</em> implementation in assembler on a x86_64 Unix system (no system calls involved).</p>
<h3>Saving the state</h3>
<p style="text-align: justify;">When a coroutine yields an <em>fcontext</em> switch should occur, i.e. we should save whatever state the routine was at that point in time and <em>JMP</em> to another context. On a recent Unix system calling conventions, object and executable file formats and other low-level ABI issues are defined by the <a href="http://wiki.osdev.org/System_V_ABI" target="_blank">System V ABI</a>. On a x86_64 architecture the stack grows downwards and parameters to functions are passed in registers <em>rdi, rsi, rcx, r8, r9</em> + additional stack space if needed. The stack is always 16-byte aligned before a <em>call</em> instruction is issued. Registers <em>rbx, rsp, rbp, r12, r13, r14,</em> and <em>r15</em> are preserved across function calls while <em>rax, rdi, rsi, rdx, rcx, r8, r9, r10, r11</em> are scratch registers:</p>
<table>
<tbody>
<tr>
<th>Return value</th>
<th>Parameter Registers</th>
<th>Scratch Registers</th>
<th>Preserved Registers</th>
</tr>
<tr>
<td>rax, rdx</td>
<td>rdi, rsi, rdx, rcx, r8, r9 + additional_stack</td>
<td>rax, rdi, rsi, rdx, rcx, r8, r9, r10, r11</td>
<td>rbx, rsp, rbp, r12, r13, r14, r15</td>
</tr>
</tbody>
</table>
<p style="text-align: justify;">Therefore following in <em>boost::context</em>&#8216;s footsteps a reasonable memory layout is the following</p>
<pre>/****************************************************************************************
 *                                                                                      *
 *  ----------------------------------------------------------------------------------  *
 *  |    0    |    1    |    2    |    3    |    4     |    5    |    6    |    7    |  *
 *  ----------------------------------------------------------------------------------  *
 *  |   0x0   |   0x4   |   0x8   |   0xc   |   0x10   |   0x14  |   0x18  |   0x1c  |  *
 *  ----------------------------------------------------------------------------------  *
 *  |        R12        |         R13       |         R14        |        R15        |  *
 *  ----------------------------------------------------------------------------------  *
 *  ----------------------------------------------------------------------------------  *
 *  |    8    |    9    |   10    |   11    |    12    |    13   |    14   |    15   |  *
 *  ----------------------------------------------------------------------------------  *
 *  |   0x20  |   0x24  |   0x28  |  0x2c   |   0x30   |   0x34  |   0x38  |   0x3c  |  *
 *  ----------------------------------------------------------------------------------  *
 *  |        RBX        |         RBP       |         RIP        |       EXIT        |  *
 *  ----------------------------------------------------------------------------------  *
 *                                                                                      *
 ****************************************************************************************/
</pre>
<p style="text-align: justify;">The <em>EXIT</em> field is going to be left unused for our purposes but it will be left in place anyway.</p>
<p style="text-align: justify;">The first thing we need is to allocate space to store the context data and make sure it has a valid alignment for the architecture we&#8217;re dealing with</p>
<pre>// Allocate context-stack space
context_stack = (void*)malloc(64_Kb);

std::size_t space = UNIX_CONTEXT_DATA_SIZE + 64;
sp = static_cast&lt;char*&gt;(context_stack) + 64_Kb - space;

sp = std::align(64, UNIX_CONTEXT_DATA_SIZE, sp, space);
assert(sp != nullptr &amp;&amp; space &gt;= UNIX_CONTEXT_DATA_SIZE);
</pre>
<p style="text-align: justify;"><em>boost::context</em> offers both memory-efficient on-demand growing stacks or fixed stack allocations (cfr. <a href="http://www.boost.org/doc/libs/1_62_0/libs/context/doc/html/context/stack.html" target="_blank">boost docs</a>). In this example code we&#8217;ll go for a fixed stack allocation.<br />
Since we can&#8217;t deal with registers directly in C++ we&#8217;ll have to fallback on a pure assembly routine. The <a href="https://en.wikipedia.org/wiki/GNU_Assembler" target="_blank">GAS</a> backend seems the logical tool of choice for this work. We therefore define an external function to link against our executable with C linkage:</p>
<pre>extern "C" fcontext_t jump_to_context(fcontext_t context);
</pre>
<p style="text-align: justify;">What is an <em>fcontext_t</em>? In a x86_64 world it is just a register&#8217;s content:</p>
<pre>using fcontext_t = void*;
</pre>
<p style="text-align: justify;">Luckily for us <em>RIP</em> will have already been set by the fact we&#8217;re invoking <em>jump_to_context</em> with a <em>CALL</em> instruction so we get an instruction pointer on the stack for free in our assembly code:</p>
<pre>.text
.globl jump_to_context
.type jump_to_context,@function
.align 16
jump_to_context:
    pushq  %rbp  /* save RBP */
    pushq  %rbx  /* save RBX */
    pushq  %r15  /* save R15 */
    pushq  %r14  /* save R14 */
    pushq  %r13  /* save R13 */
    pushq  %r12  /* save R12 */

    /* omissis */

    /* restore RSP (pointing to context-data) from RDI */
    movq  %rdi, %rsp

    popq  %r12  /* restore R12 */
    popq  %r13  /* restore R13 */
    popq  %r14  /* restore R14 */
    popq  %r15  /* restore R15 */
    popq  %rbx  /* restore RBX */
    popq  %rbp  /* restore RBP */

    /* continue... */

.size jump_to_context,.-jump_to_context

/* Mark that we don't need executable stack. */
.section .note.GNU-stack,"",%progbits
</pre>
<p style="text-align: justify;">Using <a href="https://cmake.org/cmake/help/v3.0/command/project.html" target="_blank">CMake</a> putting everything together becomes quite easy:</p>
<pre>project(simple_crts CXX ASM)
cmake_minimum_required(VERSION 2.8.12)
set (CMAKE_CXX_STANDARD 14)

set_source_files_properties(jump_to_context_x86_64_elf_gas.S 
                            PROPERTIES COMPILE_FLAGS "-x assembler-with-cpp")

add_executable(simple_crts simple_crts.cpp jump_to_context_x86_64_elf_gas.S)
target_link_libraries(simple_crts ${CONAN_LIBS} pthread)
</pre>
<h3>Trampolines to coroutines</h3>
<p style="text-align: justify;">Something is missing at this point: we need a valid <em>RIP</em> pointer to the coroutine to jump to. We could enter the coroutine and have another function store this information for us, but there&#8217;s a better way which avoids cluttering the coroutine code entirely: using a trampoline function.</p>
<p style="text-align: justify;">Just as in <a href="https://github.com/boostorg/context/blob/2e5430fd27b963ffd72e7ee820ae81bb34c17a33/include/boost/context/execution_context_v2.hpp#L66" target="_blank">boost::context</a>, we define a trampoline function ourselves which, when jumped to, re-jumps to the caller and saves its context as a pre-stage for the coroutine:</p>
<pre>void trampoline(fcontext_t ctx) {

  yield_ctx = jump_to_context(ctx);

  wannabe_coroutine();
}
</pre>
<p style="text-align: justify;">What we have to do now is a simplified version of the <em>make_context</em> routine to set the first <em>RIP</em> towards the trampoline&#8217;s prologue:</p>
<pre>// Do make_context's work (simplified)
// Do *NOT* try this at home (or even worse in the office)
void** addr = reinterpret_cast&lt;void**&gt;(static_cast&lt;char*&gt;(sp) +
                                         UNIX_CONTEXT_DATA_RIP_OFFSET);
*addr = reinterpret_cast&lt;void*&gt;(&amp;trampoline);

// In a more complex case there might be additional initialization and
// frame adjustments going on
coroutine_ctx = jump_to_context(sp);
</pre>
<p style="text-align: justify;">So right now we have a valid trampoline <em>RIP</em> set in place:</p>
<pre>/****************************************************************************************
 *                                                                                      *
 *  ----------------------------------------------------------------------------------  *
 *  |    0    |    1    |    2    |    3    |    4     |    5    |    6    |    7    |  *
 *  ----------------------------------------------------------------------------------  *
 *  |   0x0   |   0x4   |   0x8   |   0xc   |   0x10   |   0x14  |   0x18  |   0x1c  |  *
 *  ----------------------------------------------------------------------------------  *
 *  |        R12        |         R13       |         R14        |        R15        |  *
 *  ----------------------------------------------------------------------------------  *
 *  ----------------------------------------------------------------------------------  *
 *  |    8    |    9    |   10    |   11    |    12    |    13   |    14   |    15   |  *
 *  ----------------------------------------------------------------------------------  *
 *  |   0x20  |   0x24  |   0x28  |  0x2c   |   0x30   |   0x34  |   0x38  |   0x3c  |  *
 *  ----------------------------------------------------------------------------------  *
 *  |        RBX        |         RBP       |         RIP        |       EXIT        |  *
 *  ----------------------------------------------------------------------------------  *
 *                                           ^^^^^^^^^^^^^^^^^^^^                       *
 ****************************************************************************************/
</pre>
<p style="text-align: justify;">This kickstarts the bouncing to/from the trampoline:</p>
<pre>.text
.globl jump_to_context
.type jump_to_context,@function
.align 16
jump_to_context:
    pushq  %rbp
    pushq  %rbx 
    pushq  %r15 
    pushq  %r14 
    pushq  %r13 
    pushq  %r12 

    /* store RSP (pointing to context-data) in RAX */
    movq  %rsp, %rax

    movq  %rdi, %rsp

    popq  %r12 
    popq  %r13 
    popq  %r14 
    popq  %r15 
    popq  %rbx 
    popq  %rbp 

    /* restore return-address (must have been put on the new stack) */
    popq  %r8

    /*
       pass the old context as first parameter (if we're headed
       towards a landing function)
    */
    movq  %rax, %rdi

    /* indirect jump to new context */
    jmp  *%r8

.size jump_to_context,.-jump_to_context
.section .note.GNU-stack,"",%progbits
</pre>
<p style="text-align: justify;">It is important to note that we&#8217;re keeping the stack aligned during this entire process (recall that the stack has to be 16-bytes aligned before a <em>call</em> instruction is issued).</p>
<p style="text-align: justify;">The process roughly goes on like this:<br />
<a href="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph1.png"><img data-attachment-id="6917" data-permalink="https://www.italiancpp.org/2016/11/02/coroutines-internals/coroutines_graph1/" data-orig-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph1.png?fit=900%2C300&amp;ssl=1" data-orig-size="900,300" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="coroutines_graph1" data-image-description="" data-medium-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph1.png?fit=300%2C100&amp;ssl=1" data-large-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph1.png?fit=610%2C203&amp;ssl=1" class="alignnone size-full wp-image-6917" src="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph1.png?resize=610%2C203" alt="coroutines_graph1" srcset="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph1.png?w=900&amp;ssl=1 900w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph1.png?resize=300%2C100&amp;ssl=1 300w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph1.png?resize=768%2C256&amp;ssl=1 768w, https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph1.png?resize=600%2C200&amp;ssl=1 600w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph1.png?resize=250%2C83&amp;ssl=1 250w" sizes="(max-width: 610px) 100vw, 610px" data-recalc-dims="1" /></a></p>
<p style="text-align: justify;">It has to be noted that the trampoline function might reserve stack space for its parameters as well. In the code above we allocated 64Kb of heap space to be used as stack space for context operations. So after the first jump the <em>sp</em> automatic variable is no longer reliable. <em>coroutine_ctx</em> should be used instead.</p>
<h3>Resuming fcontext</h3>
<p style="text-align: justify;">Resuming trampoline&#8217;s <em>fcontext</em> requires another <em>call and rip-save </em> and stack pointer adjustment to <em>coroutine_ctx</em>. Trampoline&#8217;s old <em>RIP</em> will be available for free after we&#8217;ve restored the first 48 bytes of the <em>fcontext</em>.</p>
<p style="text-align: justify;">Execution can afterwards continue to the designated coroutine. At this point the coroutine should be somehow encapsulated to be able to use the <em>yield_ctx</em> context pointer: that is the gateway to our (in an asymmetric view) caller context.</p>
<p style="text-align: justify;">Each time we want to yield execution back to the caller we&#8217;ll have to <em>jump_to_context</em> to the <em>yield_ctx:</em></p>
<pre>void yield() {
  yield_ctx = jump_to_context(yield_ctx);
}

void wannabe_coroutine() {
  std::cout &lt;&lt; "I wanna be a coroutine when I grow my stack space up\n";
  yield();
  std::cout &lt;&lt; "Hooray!\n";
  yield();
}
</pre>
<p style="text-align: justify;">Notice that we&#8217;re also reassigning the variable with the return value provided by <em>jump_to_context</em>. This assignment is not executed until the control flow comes back to the <em>yield()</em> function:</p>
<pre>.. save

/* store RSP (pointing to context-data) in RAX */
movq  %rsp, %rax

.. restore
</pre>
<p style="text-align: justify;">This is a cooperative behavior example: each <em>jump_to_context()</em> invocation from this point onward actually returns <em>fcontext</em> data for the previous invocation.</p>
<p style="text-align: justify;">The rest of the code bounces back and forth through the contexts resulting in the following sequence:</p>
<p><a href="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph2.png"><img data-attachment-id="6919" data-permalink="https://www.italiancpp.org/2016/11/02/coroutines-internals/coroutines_graph2/" data-orig-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph2.png?fit=697%2C1236&amp;ssl=1" data-orig-size="697,1236" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Coroutines" data-image-description="" data-medium-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph2.png?fit=169%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph2.png?fit=577%2C1024&amp;ssl=1" class="alignnone size-full wp-image-6919" src="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph2.png?resize=610%2C1082" alt="coroutines_graph2" srcset="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph2.png?w=697&amp;ssl=1 697w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph2.png?resize=169%2C300&amp;ssl=1 169w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph2.png?resize=577%2C1024&amp;ssl=1 577w, https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph2.png?resize=600%2C1064&amp;ssl=1 600w, https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2016/10/coroutines_graph2.png?resize=250%2C443&amp;ssl=1 250w" sizes="(max-width: 610px) 100vw, 610px" data-recalc-dims="1" /></a></p>
<p style="text-align: justify;">At the end of the day the stack is freed (sounds weird to say) and the program terminates.</p>
<h2>Exercise: wrapping up</h2>
<p style="text-align: justify;">As a didactic exercise (i.e. <strong>do not EVER use this code in a production environment</strong>) we can use some metaprogramming to wrap our coroutines and avoid polluting our code with stack adjustments and cleanup boilerplate. Eventually we&#8217;d like to end up with code like this</p>
<pre>int g_fib = -1;

void fibonacci_gen() {

  int first = 1;
  g_fib = first;
  yield();

  int second = 1;
  g_fib = second;
  yield();

  for (int i = 0; i &lt; 9; ++i) {

    int third = first + second;
    first = second;
    second = third;
    g_fib = third;
    yield();

  }

}

int main() {

  // Outputs the first 10 Fibonacci numbers

  coroutine&lt;void(void)&gt; coro(fibonacci_gen);

  for (int i = 0; i &lt;= 10; ++i) {
      coro.resume();

    if(i) std::cout &lt;&lt; g_fib &lt;&lt; " ";
  }

}
</pre>
<p style="text-align: justify;">To do this we create a templated wrapper class:</p>
<pre>template class coroutine;
</pre>
<p style="text-align: justify;">that will handle the stack and trampoline setup for us. One difference from the first example is the need for a wrapper that will handle the trampoline invocation (shields us from <a href="http://www.codeproject.com/Articles/7150/Member-Function-Pointers-and-the-Fastest-Possible" target="_blank">implementation-dependent</a> issues):</p>
<pre>template 
void call_member_trampoline(coroutine *instance, fcontext_t ctx) {
  instance-&gt;trampoline(ctx);
}
</pre>
<p style="text-align: justify;">The trampoline is therefore modified as follows:</p>
<pre>void trampoline(fcontext_t ctx) {

  size_t index = yield_ctx.size() - 1;
  yield_ctx[index] = jump_to_context(this, ctx);

  this-&gt;m_fn();
}
</pre>
<p style="text-align: justify;">The only difference in the <em>jump_to_context()</em> function is in handling its new arity:</p>
<pre>/* restore RSP (pointing to context-data) from RSI */
movq  %rsi, %rsp
</pre>
<p style="text-align: justify;">and the promotion of <em>%rdi</em> from scratch-register to parameter-register (since we&#8217;re directly jumping to a destination context&#8217;s <em>RIP</em>).</p>
<p style="text-align: justify;">The rest of the code remains largely unchanged.</p>
<h2>Back to boost::context</h2>
<p style="text-align: justify;">If you&#8217;ve followed through the entire article and you made it here, you should by now know what the following <em>boost::context2</em> program does:</p>
<DIV>
<DIV class="page-snippet-container">
	<div id=cecompiler class='ace_coliru_editor'></p>
<pre>#include &lt;boost/context/all.hpp&gt;
#include &lt;iostream&gt;
#include &lt;array&gt;

namespace ctx = boost::context::detail;

class Coroutine {
public:
  Coroutine() {
    my_context = ctx::make_fcontext(
      stack.data() + stack.size(),
      stack.size(),
      &amp;Coroutine::dispatch
    );
  }
  virtual ~Coroutine() {}

  void operator()() {
    auto transfer_ctx = ctx::jump_fcontext(my_context, this);
    my_context = transfer_ctx.fctx;
  }

protected:
  void yield() {
    auto transfer_ctx = ctx::jump_fcontext(yield_context, 0);
    my_context = transfer_ctx.fctx;
  }

  virtual void call() = 0;

private:
  static void dispatch(ctx::transfer_t coroutine_ptr) {
    Coroutine *coroutine = reinterpret_cast&lt;Coroutine *&gt;(coroutine_ptr.data);
    coroutine-&gt;yield_context = coroutine_ptr.fctx;
    coroutine-&gt;call();
    while(true)
      coroutine-&gt;yield();
  }

private:
  ctx::fcontext_t my_context;
  ctx::fcontext_t yield_context;
  std::array&lt;intptr_t, 66 * 1024&gt; stack;
};

struct A : public Coroutine {
  void call() {
    std::cout &lt;&lt; " __________________________________ " &lt;&lt; std::endl;
    yield();
    std::cout &lt;&lt; "|    _       _       |_|    _| |_  |" &lt;&lt; std::endl;
    yield();
    std::cout &lt;&lt; "|   |_|     |_|      | |     | |_  |" &lt;&lt; std::endl;
  }
};

struct B : public Coroutine {
  void call() {
    std::cout &lt;&lt; "|                                  |" &lt;&lt; std::endl;
    yield();
    std::cout &lt;&lt; "|  _| |_   _| |_      _    |_   _| |" &lt;&lt; std::endl;
    yield();
    std::cout &lt;&lt; "|                    |_|     |___| |" &lt;&lt; std::endl;
    yield();
    std::cout &lt;&lt; "|                                  |" &lt;&lt; std::endl;
    yield();
    std::cout &lt;&lt; "|__________________________________|" &lt;&lt; std::endl;
  }
};

struct C : public Coroutine {
  void call() {
    std::cout &lt;&lt; "|                     _       _    |" &lt;&lt; std::endl;
    yield();
    std::cout &lt;&lt; "| |_   _| |_   _|    | |     | |   |" &lt;&lt; std::endl;
  }

  void operator++(int) {
    std::cout &lt;&lt; "| ++It - The Italian C++ Community |" &lt;&lt; std::endl;
    std::cout &lt;&lt; "|__________________________________|" &lt;&lt; std::endl;
  }
};


int main() {

  A a;
  B b;
  C c;
  for (size_t i = 0; i&lt;10; ++i) {
    a();
    b();
    c();
  }

  c++; // An entire operator overloading to write 'c++'? Worth it!
}
</pre>
<p></div>
</DIV>
	<INPUT id="cecompiler_compile" class="page-snippet-button" type="button" value="Run">
	<DIV id="cecompiler_output" class="page-snippet-container"></DIV>
<script type="text/javascript">
	TurnIntoCompiler('cecompiler');
</script>
</DIV>
<h2>Final words</h2>
<p style="text-align: justify;">Coroutines provide a powerful abstraction to offer the same level of concurrency one would get with asynchronous callbacks by offering at the same time a chance to write more maintainable code. At the time of writing this article boost offers context, coroutine and fiber libraries. As we&#8217;ve seen <em>boost::context</em> provides the foundation for userland context switches, <em>boost::coroutine2</em> offers coroutines support (which conceptually have no need of synchronization whatsoever since they implement a nonpreemptive cooperative multitasking) and <em>boost::fiber</em> which builds on <em>boost::context</em> to add a scheduling mechanism: each time a fiber yields, control is given back to a scheduler manager which decides the next execution strategy (cfr. <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n4024.pdf" target="_blank">N4024</a>).</p>
<p style="text-align: justify;">As usual it is up to the programmer to carefully choose which abstractions are to be used in a specific context.</p>
<h2>References and credits</h2>
<ul>
<li><a href="http://www.boost.org/doc/libs/" target="_blank">The boost library</a></li>
<li><a href="http://www.crystalclearsoftware.com/soc/coroutine/coroutine/implementation.html" target="_blank">Coroutine implementation</a></li>
<li><a href="http://www.chiark.greenend.org.uk/~sgtatham/coroutines.html" target="_blank">Coroutines in C</a></li>
<li><a href="https://isocpp.org/files/papers/n3985.pdf" target="_blank">N3985</a></li>
<li><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n4024.pdf" target="_blank">N4024</a></li>
<li><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n3964.pdf">Library Foundations for Asynchronous Operations</a></li>
</ul>
<p style="text-align: justify;">Special thanks to the <strong>++it community</strong> and Oliver Kowalke for providing insights and reviews of parts of this article.</p>
]]></content:encoded>
		<post-id xmlns="com-wordpress:feed-additions:1">6862</post-id>	</item>
		<item>
		<title>First steps with Boost.Python</title>
		<link>https://www.italiancpp.org/2015/12/02/first-steps-with-boost-python/</link>
		<pubDate>Wed, 02 Dec 2015 18:11:41 +0000</pubDate>
		<dc:creator><![CDATA[stefano]]></dc:creator>
				<category><![CDATA[Tecnologie]]></category>
		<category><![CDATA[boost]]></category>
		<category><![CDATA[python]]></category>

		<guid isPermaLink="false">http://www.italiancpp.org/?p=5479</guid>
		<description><![CDATA[&#8220;Finally a modern, pragmatic language.&#8221; Who among us wants to work with a multi-paradigm, highly-expressive, fast-evolving language with a huge standard library? We are talking, as usual, about&#8230; Python. There are scenarios where our trusty champion (C++11) doesn&#8217;t cut it. For a prototype to rush out in a hurry, a &#8220;single use&#8221; script, the server [&#8230;]]]></description>
				<content:encoded><![CDATA[<h3>&#8220;Finally a modern, pragmatic language.&#8221;</h3>
<p>Who among us wants to work with a multi-paradigm, highly-expressive, fast-evolving language with a huge standard library? We are talking, as usual, about&#8230; Python.</p>
<p>There are scenarios where our trusty champion (C++11) doesn&#8217;t cut it. For a prototype to rush out in a hurry, a &#8220;single use&#8221; script, the server side of a web application, research code&#8230; the complexity of C++ is more a problem than an asset.</p>
<p>How can we continue to take advantage of C++ efficiency or re-use some already available code without looking like old-fashioned cavemen?</p>
<p>The Python interpreter can load modules written in C, compiled as dynamic libraries. Boost.Python helps, a lot, to prepare them. It joins the power of Boost and C++ with the ease of use of Python.</p>
<p>Danger: even if all the examples compile, run and pass the tests this is not the ultimate guide about Boost.Python. The code is meant to be an example, it mirrors our (minimal) experience with Boost.Python. Do not hesitate to report any error we made.</p>
<h4>A speed problem</h4>
<p>Let&#8217;s see a (not too) practical use case. There are numbers which are equal to the sum of their divisors (6 = 3 + 2 + 1; <a href="https://en.wikipedia.org/wiki/Perfect_number">perfect numbers</a>). The marketing department believes it is something hot, but we must compute as many perfect numbers as possible and release them before our competitors. The development speed enabled by Python is key, after 5 minutes we release Pefect 1.0<span style="font-family: Liberation Serif,serif;">®:</span></p>
<DIV class="page-snippet-container">
	<div id=cesnippet class='ace_coliru_editor'></p>
<pre>def find_divisors(number):
	divisors = []
	for i in range(1, number):
		if number % i == 0:
			divisors.append(i)
	return divisors


def perfect(number):
	divisors = find_divisors(number)
	return number == sum(divisors)


def find_perfect_numbers(how_many):
	found = 0
	number_to_try = 1
	while (found &lt; how_many):
		if perfect(number_to_try):
			print number_to_try
			found += 1
		number_to_try += 1


if __name__ == "__main__":
	find_perfect_numbers(4)  # Look for more at your own risk.
							 # And prepare for a long wait.
</pre>
<p></div>
<script type="text/javascript">TurnIntoSnippet('cesnippet');</script>
</DIV>
<p>This code is not really &#8220;pythonic&#8221; (<a href="https://www.python.org/dev/peps/pep-0008/">https://www.python.org/dev/peps/pep-0008/</a>), but it really was created, tested and debugged in less time that it takes to read a C++ compilation error.<a class="sdfootnoteanc" href="#sdfootnote1sym" name="sdfootnote1anc"><sup>1</sup></a>.</p>
<p>Unfortunately the execution time is similar: 6.5 seconds on my test machine (which is not your test machine, nor the production server, nor the Python fanboy&#8217;s PC which can run everything in a picosecond&#8230; it&#8217;s an example!).</p>
<p>Let&#8217;s look for the bottleneck with the profiler, like the savvy engineers we are.</p>
<DIV class="page-snippet-container">
	<div id=cesnippet1 class='ace_coliru_editor'></p>
<pre>import cProfile

... same code as before ...

if __name__ == "__main__":
	cProfile.run("find_perfect_numbers(4)")
</pre>
<p></div>
<script type="text/javascript">TurnIntoSnippet('cesnippet1');</script>
</DIV>
<p>Here is the outcome:</p>
<pre>   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        1    0.000    0.000    5.657    5.657 &lt;string&gt;:1()
     8128    0.283    0.000    5.582    0.001 purePython.py:16(perfect)
        1    0.075    0.075    5.657    5.657 purePython.py:21(find_perfect_numbers)
     8128    4.294    0.001    5.229    0.001 purePython.py:8(find_divisors)
    66318    0.528    0.000    0.528    0.000 {method 'append' of 'list' objects}
        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}
     8128    0.406    0.000    0.406    0.000 {range}
     8128    0.070    0.000    0.070    0.000 {sum}
</pre>
<p>find_divisors &#8220;steals&#8221; almost all of the 5.6 seconds it took to run this test!</p>
<h4>boost::python</h4>
<p>No-one denies that it is possible to write efficient code in Python (Java, VisualWhatever, this week&#8217;s functional language&#8230;), but optimize the algorithm of find_divisors is out of the question: we are here to show off Boost.Python, not to give an Algebra lesson.</p>
<p>First of all, we get our hands on Boost.Python. On a Linux box this is as easy as typing:</p>
<pre>sudo apt-get install libboost-all-dev</pre>
<p>You may need to install Python&#8217;s &#8220;dev&#8221; packages. It is easy to find instructions for any platform over the web, but installing (and compiling) the library may be the most difficult step. Do not lose heart.</p>
<p>This is the C++ code:<br />
<DIV class="page-snippet-container">
	<div id=cesnippet2 class='ace_coliru_editor'></p>
<pre>#include "boost/python.hpp"  // (1)

boost::python::list findDivisors(uint64_t number) // (2)
{
	boost::python::list divisors;
	for (uint64_t i = 1; i &lt; number; ++i)  // (3)
		if (number % i == 0)
			divisors.append(i);
	return divisors;
}

BOOST_PYTHON_MODULE(divisors)
{
    using namespace boost::python;
    def("find_divisors", findDivisors);  // (4)
}
</pre>
<p></div>
<script type="text/javascript">TurnIntoSnippet('cesnippet2');</script>
</DIV></p>
<ol>
<li>Include Boost.Python. It must be included before any other header to avoid compilation warning.</li>
<li>The function corresponding to the one we want to replace in Python. It keeps the same signature (takes an integer, returns a list) as the Python original to achieve a &#8220;transparent&#8221; replacement.</li>
<li>Even the logic is exactly the same. Just a few syntax differences. The C++ runtime should make the difference in this case.</li>
<li>Declare the function with “def” (&#8230;hey, it&#8217;s just like Python).</li>
</ol>
<p>The guide (<a href="http://www.boost.org/doc/libs/1_59_0/libs/python/doc/">http://www.boost.org/doc/libs/1_59_0/libs/python/doc/</a>) has a clear explanation with all the details.</p>
<p>Compiling, sadly, is not so easy, we will have to adapt to your case. Let&#8217;s check a step-by-step example (naturally, this is a single line on the console):</p>
<pre>g++ divisors.cpp			    compile a C++ file, as usual
 -o divisors.so  			    file name: Python demands it is the same as the module name
-I /usr/include/python2.7/	            to include Python's headers (I already set boost in the path)
-l python2.7 -lboost_python -lboost_system  include python, boost
-shared -fPIC -Wl,-export-dynamic           request to create a dynamic library
</pre>
<p>stackoverflow.com will cover the rest. Notice that &#8220;to level the play field&#8221;, I do not use optimization options in g++.</p>
<p>Once our library is in the system path (some place where Python can find it) we can include it in Python:<br />
<DIV class="page-snippet-container">
	<div id=cesnippet3 class='ace_coliru_editor'></p>
<pre>from divisors import find_divisors

def perfect(number):
	divisors = find_divisors(int(number))  # Calls the C++ implementation
	return number == sum(divisors)

… same code as before …

</pre>
<p></div>
<script type="text/javascript">TurnIntoSnippet('cesnippet3');</script>
</DIV></p>
<p>Run time: a bit less than a second. We are witnessing the classic &#8220;80% of time is wasted by 20% of the code&#8221;. The same algorithm is 6 times faster, but the part where we had to deal with low level programming (yes, still C++98!) is just one function. Everywhere else we can still take advantage of Python&#8217;s practicality.</p>
<h4>Some more opportunities</h4>
<p>Boost.Python is not limited to primitive types conversion or adapters to pass Python lists in C++. Here is a selection of &#8220;common&#8221; cases often met when doing “C with classes&#8221;:<br />
<DIV class="page-snippet-container">
	<div id=cesnippet4 class='ace_coliru_editor'></p>
<pre>class ReuseInPython 
{
	public:
		ReuseInPython() {};
		ReuseInPython(int x, const std::string&amp; y) {};
		int instanceVariable;
		static void staticMethod() {};
		void method() {}
};

BOOST_PYTHON_MODULE(oop)
{
    using namespace boost::python;
    class_&lt;ReuseInPython&gt;("implemented_in_CPP")		// (1)
	.def(init&lt;int, std::string&gt;())  // (2)
	.def_readwrite("instance_variable", &amp;ReuseInPython::instanceVariable)  // (3)
	.def("static_method", &amp;ReuseInPython::staticMethod).staticmethod("static_method")  // (4)        
	.def("method", &amp;ReuseInPython::method)  // (5)
    ;
}
</pre>
<p></div>
<script type="text/javascript">TurnIntoSnippet('cesnippet4');</script>
</DIV></p>
<ol>
<li>Open a class declaration, passing a string with its alias in Python.</li>
<li>Translate the constructor in Python (&#8230;init, does that ring a bell?).</li>
<li>The Python &#8220;translation&#8221; won&#8217;t balk at public instance variables. Here is one.</li>
<li>Only repeat the Python name to expose a static method.</li>
<li>The run-of-the mill, basic instance method.</li>
</ol>
<p>Once it is compiled (&#8230;sounds easy, but&#8230;) we can use the C++ class in Python:</p>
<DIV class="page-snippet-container">
	<div id=cesnippet5 class='ace_coliru_editor'></p>
<pre>from oop import implemented_in_CPP

x = implemented_in_CPP()
y = implemented_in_CPP(3, "hello")
x.instance_variable = 23
implemented_in_CPP.static_method()
x.method()
</pre>
<p></div>
<script type="text/javascript">TurnIntoSnippet('cesnippet5');</script>
</DIV>
<p>Boost takes care of converting parameters, return types etcetera. There are options to &#8220;export&#8221; directly STL classes (and more can be defined if something is missing) and for the return type policy (by reference, by copy&#8230;). There are really many options, trust the official guide.</p>
<p>When the going gets tough, Boost keeps going. A sample:</p>
<DIV class="page-snippet-container">
	<div id=cesnippet6 class='ace_coliru_editor'></p>
<pre>class Problems
{
	public:
		void print() {
			std::cout &lt;&lt; "cout still works" &lt;&lt; std::endl;
		}

		void exception() {
			throw std::runtime_error("Oh, no!!!");
		}

		void coreDump()	{
			int * nullPointer = 0;
			*nullPointer = 24;
		}
};

BOOST_PYTHON_MODULE(oop)
{
    using namespace boost::python;

    class_&lt;Problems&gt;("Problems")
	.def("print_something", &amp;Problems::print  // Print is a Python keyword.    
	.def("exception", &amp;Problems::exception)
	.def("coreDump", &amp;Problems::coreDump)
    ;
}

</pre>
<p></div>
<script type="text/javascript">TurnIntoSnippet('cesnippet6');</script>
</DIV>
<p>The Python &#8220;test-driver&#8221;, with an example of the output:<br />
<DIV class="page-snippet-container">
	<div id=cesnippet7 class='ace_coliru_editor'></p>
<pre>from oop import Problems
p = Problems()
p.print_something()
try:
	p.exception()
except RuntimeError as e:
	print "The C++ code bombed: " + str(e);
p.coreDump()

</pre>
<p></div>
<script type="text/javascript">TurnIntoSnippet('cesnippet7');</script>
</DIV></p>
<pre>cout still works	(1)
The C++ code bombed: Oh, no!!!	(2)
Segmentation fault (core dumped)	(3)
</pre>
<ol>
<li>Debugging with std::cout is not a recommended practice&#8230; but it works!</li>
<li>Exception are perfectly &#8220;thrown&#8221; to the Python runtime.</li>
<li>&#8230;well, what did you expect?</li>
</ol>
<h4>Multithreading</h4>
<p>Boost.Python is not the only weapon to tackle problems that demand efficiency.. Multithreading is a common way to improve performance, as good when computing divisors as to mine bitcoins or crack passwords. Here is a C++ class which is about to jump in a Python thread:</p>
<DIV class="page-snippet-container">
	<div id=cesnippet8 class='ace_coliru_editor'></p>
<pre>class JobFindDivisors {

	public:
		JobFindDivisors(uint64_t number, uint64_t begin, uint64_t end) :
			number(number), begin(begin), end(end) {}
		
		boost::python::list findDivisors()
		{
			std::cout &lt;&lt; "Start" &lt;&lt; std::endl;

			boost::python::list divisors;
			for (uint64_t i = begin; i &lt; end; ++i)
				 if (number % i == 0)
					divisors.append(i);

			std::cout &lt;&lt; "end" &lt;&lt; std::endl;
			return divisors;
		}

	private:
		uint64_t number;
		uint64_t begin;
 		uint64_t end;
};

BOOST_PYTHON_MODULE(factor)
{
    using namespace boost::python;
    class_&lt;JobFindDivisors&gt;("JobFindDivisors", init&lt;uint64_t, uint64_t, uint64_t&gt;())
	.def("find_divisors", &amp;JobFindDivisors::findDivisors)
    ;
}
</pre>
<p></div>
<script type="text/javascript">TurnIntoSnippet('cesnippet8');</script>
</DIV>
<p>The &#8220;JobFindDivisors&#8221; object checks if the numbers between &#8220;begin&#8221; and &#8220;end&#8221; are divisors of &#8220;number&#8221;. We parallelize the problem of finding all the divisors in many “jobs”, dedicating each object to a different interval. No data is shared between jobs, there are no concurrency problems. This is the only advantage of such a solution, but once again let&#8217;s forget about math (and proper software engineering).</p>
<p>The Python call:<br />
<DIV class="page-snippet-container">
	<div id=cesnippet9 class='ace_coliru_editor'></p>
<pre>from threading import Thread
from factor import JobFindDivisors

class Job():									# (1)
	def __init__(self, number, begin, end):
		self.cppJob = JobFindDivisors(number, begin, end)
		self.divisors = []
	
	def __call__(self):
		self.divisors = self.cppJob.find_divisors()

		
def find_divisors_in_parallel(number):			# (2)
	limit = number / 2

	job1 = Job(number, 1, limit)
	job2 = Job(number, limit, number)

	t1 = Thread(None, job1)
	t2 = Thread(None, job2)
	
	t1.start()
	t2.start()
	t1.join()
	t2.join()

	return [job1.divisors, job2.divisors]


if __name__ == "__main__":
	print  find_divisors_in_parallel(223339244); # (3)
</pre>
<p></div>
<script type="text/javascript">TurnIntoSnippet('cesnippet9');</script>
</DIV></p>
<ol>
<li>Encapsulate the C++ Job to &#8220;keep it simple&#8221;, without exporting a C++ callable.</li>
<li>This method creates 2 jobs, does &#8220;fork and join&#8221; (or, as they say nowadays, &#8220;map and reduce&#8221;), then prints the results.</li>
<li>Factoring any number would do.</li>
</ol>
<p>The output: do you remember the &#8220;Start&#8221; and &#8220;end&#8221; printouts in the C++ class? After around 8 seconds the computation terminates, with no parallelism whatsoever:</p>
<pre>Start
end
Start
end
[[1L, 2L, 4L, 53L, 106L, 212L, 1053487L, 2106974L, 4213948L, 55834811L], [111669622L]]
</pre>
<p>Working as designed. Python&#8217;s objects are protected by the Global Interpreter Lock (GIL). It is up to the programmer to release it in each thread to &#8220;give way&#8221; to the other threads. The trick is to call pure Python code only when holding the lock.</p>
<p>As usual in C++ we control resources with RAII. The idiom for the GIL is (<a href="https://wiki.python.org/moin/boost.python/HowTo#Multithreading_Support_for_my_function">https://wiki.python.org/moin/boost.python/HowTo#Multithreading_Support_for_my_function</a>):<br />
<DIV class="page-snippet-container">
	<div id=cesnippet10 class='ace_coliru_editor'></p>
<pre>class ScopedGILRelease
{
public:
    inline ScopedGILRelease(){
        m_thread_state = PyEval_SaveThread();
    }
    inline ~ScopedGILRelease()    
        PyEval_RestoreThread(m_thread_state);
        m_thread_state = NULL;
    }
private:
    PyThreadState * m_thread_state;
};
</pre>
<p></div>
<script type="text/javascript">TurnIntoSnippet('cesnippet10');</script>
</DIV></p>
<p>Release the lock in the C++ class:<br />
<DIV class="page-snippet-container">
	<div id=cesnippet11 class='ace_coliru_editor'></p>
<pre>boost::python::list findDivisors() {
	ScopedGILRelease noGil = ScopedGILRelease();  // (1)
	std::cout &lt;&lt; "Start" &lt;&lt; std::endl;

	boost::python::list divisors;
	for (uint64_t i = begin; i &lt; end; ++i)
		 if (number % i == 0)
			divisors.append(i);  // (2) Possible core dump!

	std::cout &lt;&lt; "end" &lt;&lt; std::endl;
	return divisors;
}
</pre>
<p></div>
<script type="text/javascript">TurnIntoSnippet('cesnippet11');</script>
</DIV></p>
<ol>
<li>When this variable goes out of scope, the lock is taken again. Like a &#8220;reversed&#8221; smart pointer.</li>
<li>Here is where we will certainly take a core dump. But only in production.</li>
</ol>
<p>Do you remember that <em>&#8220;the trick is to call pure Python code only when holding the lock&#8221;</em>? Line (2) may do just that, without the lock. You can try to massively grow the list (say erase the “if (number&#8230;” and save all the number in the list). I believe that, maybe (please read the official documents for the real answer!) the Python interpreter must allocate a bigger list, but without the lock all it gets is corrupted memory.</p>
<p>Let&#8217;s encapsulate the parallelizable section in a dedicated scope, saving the numbers in a variable which we do not share with Python:<br />
<DIV class="page-snippet-container">
	<div id=cesnippet12 class='ace_coliru_editor'></p>
<pre>boost::python::list findDivisors()
{
	std::cout &lt;&lt; "Start" &lt;&lt; std::endl;
	std::vector divisorsTemp;
	boost::python::list divisors;
	{
		ScopedGILRelease noGil = ScopedGILRelease();
		for (uint64_t i = begin; i &lt; end; ++i)
			if (number % i == 0)
				divisorsTemp.push_back(i);
	} // noGil goes out of scope, we take the lock again.
	BOOST_FOREACH(uint64_t n, divisorsTemp) {
		divisors.append(n);
	}
	std::cout &lt;&lt; "end" &lt;&lt; std::endl;
	return divisors;
}
</pre>
<p></div>
<script type="text/javascript">TurnIntoSnippet('cesnippet12');</script>
</DIV><br />
After six and a half seconds (-2 compared with the &#8220;accidentally sequential&#8221; version) we get the expected interleaving (Start Start &#8211; end end). We can invest those 2 seconds to think to a less duck-tape-and-chewing-gum-oriented solution.</p>
<p>This completes the introduction to Boost.Python. Now we know how to &#8220;push&#8221; C++ modules in Python applications either to re-use, either for efficiency reasons. Boost.Python connects the two worlds without sacrificing Python&#8217;s simplicity and without adding constraints to C++, even if some spots do need care. <em>Above all, from now on we are going to always have the last word in the unavoidable &#8220;Python vs C++&#8221; flame in every forum of the world.</em></p>
<div id="sdfootnote1">
<p class="sdfootnote"><a class="sdfootnotesym" href="#sdfootnote1anc" name="sdfootnote1sym">1</a>It is true: it takes less time to create a whole program in Python than to fix a single bug in C++.</p>
<p>Try it. Ready, steady, go:</p>
<pre>/usr/include/c++/4.8/bits/stl_map.h:646:7: note: no known conversion for argument 1 from 
‘int’ to ‘std::map&lt;int, std::map&lt;std::basic_string&lt;char&gt;, std::basic_string&amp;lt
;char&gt; &gt; &gt;::iterator {aka std::_Rb_tree_iterator&lt;std::pair&lt;const int, std::map&lt;std::basic_string&lt;char&gt;, std::basic_string&lt;char&gt; &gt; &gt; &gt;}’
</pre>
<p class="sdfootnote">/usr/include/c++/4.8/bits/stl_map.h:670:9: note: template&lt;class _InputIterator&gt; void std::map&lt;_Key, _Tp, _Compare, _Alloc&gt;::insert(_InputIterator, _InputIterator) [with _InputIterator = _InputIterator; _Key = int; _Tp = std::map&lt;std::basic_string&lt;char&gt;, std::basic_string&lt;char&gt; &gt;; _Compare = std::less&lt;int&gt;; _Alloc = std::allocator&lt;std::pair&lt;const int, std::map&lt;std::basic_string&lt;char&gt;, std::basic_string&lt;char&gt; &gt; &gt; &gt;</p>
</div>
]]></content:encoded>
		<post-id xmlns="com-wordpress:feed-additions:1">5479</post-id>	</item>
		<item>
		<title>Community Days 2014</title>
		<link>https://www.italiancpp.org/event/community-days-2014/</link>
		<pubDate>Tue, 25 Feb 2014 23:00:00 +0000</pubDate>
		<dc:creator><![CDATA[marco]]></dc:creator>
				<category><![CDATA[boost]]></category>
		<category><![CDATA[C++/CX]]></category>
		<category><![CDATA[Cinder]]></category>
		<category><![CDATA[Modern C++ Idioms]]></category>
		<category><![CDATA[stl]]></category>
		<category><![CDATA[Visual Studio]]></category>

		<guid isPermaLink="false">http://www.italiancpp.org/?post_type=tribe_events&#038;p=3190</guid>
		<description><![CDATA[Ospitati dall'evento italiano più importante dedicato alle communities tecniche Microsoft, abbiamo curato una track interamente dedicata al C++. Special guest: Ale Contenti, dal team di Visual Studio di Redmond! Modern C++, boost, STL, Visual Studio 2013, Cinder, C++/CX sono solo alcuni dei temi trattati dai preparatissimi speakers! 50+ partecipanti.]]></description>
				<content:encoded><![CDATA[<p><a href="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2013/06/cpp-it-people.jpg"><img data-attachment-id="3103" data-permalink="https://www.italiancpp.org/?attachment_id=3103" data-orig-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2013/06/cpp-it-people.jpg?fit=960%2C720&amp;ssl=1" data-orig-size="960,720" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="cpp-it-people" data-image-description="" data-medium-file="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2013/06/cpp-it-people.jpg?fit=300%2C225&amp;ssl=1" data-large-file="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2013/06/cpp-it-people.jpg?fit=610%2C458&amp;ssl=1" class="wp-image-3103 aligncenter" src="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2013/06/cpp-it-people.jpg?resize=576%2C432" alt="cpp-it-people" srcset="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2013/06/cpp-it-people.jpg?w=960&amp;ssl=1 960w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2013/06/cpp-it-people.jpg?resize=300%2C225&amp;ssl=1 300w, https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2013/06/cpp-it-people.jpg?resize=600%2C450&amp;ssl=1 600w, https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2013/06/cpp-it-people.jpg?resize=250%2C187&amp;ssl=1 250w" sizes="(max-width: 576px) 100vw, 576px" data-recalc-dims="1" /></a></p>
<p>&nbsp;</p>
<h2 style="text-align: center;"><a href="https://www.facebook.com/photo.php?fbid=10152308356861057&amp;set=oa.421537591314568&amp;type=3&amp;theater" target="_blank" rel="noopener noreferrer">Tutte le foto</a></h2>
<p><span style="color: #ffffff;"> </span></p>
<p>&nbsp;</p>
<p><a href="http://www.communitydays.it/"><img data-attachment-id="2424" data-permalink="https://www.italiancpp.org/event/community-days-2014/cd14_logo/" data-orig-file="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2013/12/cd14_logo.png?fit=435%2C92&amp;ssl=1" data-orig-size="435,92" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="cd14_logo" data-image-description="" data-medium-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2013/12/cd14_logo.png?fit=300%2C63&amp;ssl=1" data-large-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2013/12/cd14_logo.png?fit=435%2C92&amp;ssl=1" class="aligncenter size-full wp-image-2424" src="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2013/12/cd14_logo.png?resize=435%2C92" alt="cd14_logo" srcset="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2013/12/cd14_logo.png?w=435&amp;ssl=1 435w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2013/12/cd14_logo.png?resize=300%2C63&amp;ssl=1 300w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2013/12/cd14_logo.png?resize=250%2C52&amp;ssl=1 250w" sizes="(max-width: 435px) 100vw, 435px" data-recalc-dims="1" /></a></p>
<p>&nbsp;</p>
<h3 style="text-align: center;"><span style="color: #2945a4;">Abbiamo curato una track dedicata al C++ per 50+ persone!</span></h3>
<p>&nbsp;</p>
<h4 style="text-align: center;"><a href="http://www.communitydays.it/events/2014/cpp01/" target="_blank" rel="noopener noreferrer">C++11 in azione</a></h4>
<h4 style="text-align: center;">Marco Arena</h4>
<h4 style="text-align: center;"><span style="color: #ffffff;"> </span></h4>
<h4 style="text-align: center;"><a href="http://www.communitydays.it/events/2014/cpp02/" target="_blank" rel="noopener noreferrer">Produttività, performance e affidabilità con Visual C++ 2013</a></h4>
<h4 style="text-align: center;">Guido Perderzini</h4>
<h4 style="text-align: center;"><span style="color: #ffffff;">  </span><span style="color: #ffffff;"> </span></h4>
<h4 style="text-align: center;"><a href="http://www.communitydays.it/events/2014/cpp04/" target="_blank" rel="noopener noreferrer">Le estensioni C++/CX per WinRT</a></h4>
<h4 style="text-align: center;">Raffaele Rialdi</h4>
<h4><span style="color: #ffffff;"> </span></h4>
<h4 style="text-align: center;"><a href="http://www.communitydays.it/events/2014/cpp05/" target="_blank" rel="noopener noreferrer">Standard Library: STL e Boost, la BCL di C++</a></h4>
<h4 style="text-align: center;">Alessio Gogna</h4>
<h4><span style="color: #ffffff;"> </span></h4>
<h4 style="text-align: center;"><a href="http://www.communitydays.it/events/2014/cpp06/" target="_blank" rel="noopener noreferrer">Grafica in poche righe con Visual C++, Cinder e altre librerie open source</a></h4>
<h4 style="text-align: center;">Ale Contenti</h4>
<h4><span style="color: #ffffff;"> </span></h4>
<h4 style="text-align: center;"><a href="http://www.communitydays.it/events/2014/cpp07/" target="_blank" rel="noopener noreferrer">VC6? No, grazie. Come migrare a C++11</a></h4>
<h4 style="text-align: center;">Ale Contenti &amp; Raffaele Rialdi</h4>
<p><span style="color: #ffffff;"> </span></p>
<div id="attachment_2802" style="width: 682px" class="wp-caption aligncenter"><a href="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2013/07/loveItalianCpp.jpg"><img data-attachment-id="2802" data-permalink="https://www.italiancpp.org/home/loveitaliancpp/" data-orig-file="https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2013/07/loveItalianCpp.jpg?fit=960%2C539&amp;ssl=1" data-orig-size="960,539" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="ILoveItalianCpp" data-image-description="" data-medium-file="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2013/07/loveItalianCpp.jpg?fit=300%2C168&amp;ssl=1" data-large-file="https://i2.wp.com/www.italiancpp.org/wp-content/uploads/2013/07/loveItalianCpp.jpg?fit=610%2C342&amp;ssl=1" class=" wp-image-2802" src="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2013/07/loveItalianCpp.jpg?resize=610%2C342" alt="ILoveItalianCpp" srcset="https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2013/07/loveItalianCpp.jpg?w=960&amp;ssl=1 960w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2013/07/loveItalianCpp.jpg?resize=300%2C168&amp;ssl=1 300w, https://i0.wp.com/www.italiancpp.org/wp-content/uploads/2013/07/loveItalianCpp.jpg?resize=600%2C336&amp;ssl=1 600w, https://i1.wp.com/www.italiancpp.org/wp-content/uploads/2013/07/loveItalianCpp.jpg?resize=250%2C140&amp;ssl=1 250w" sizes="(max-width: 610px) 100vw, 610px" data-recalc-dims="1" /></a><p class="wp-caption-text">Da sx: Guido Pederzini, Eva Gjeci, Raffaele Rialdi, Ale Contenti, Marco Arena, Alessio Gogna</p></div>
<h2 style="text-align: center;"><span style="color: #ffffff;"> </span></h2>
]]></content:encoded>
		<post-id xmlns="com-wordpress:feed-additions:1">3190</post-id>	</item>
	</channel>
</rss>
